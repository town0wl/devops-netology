### ДЗ 5.2
1.
100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований - KVM или Xen. Потому что нет смысла переплачивать за VMware, если нет особых требований, а Hyper-V может не поддерживать все нужные Linux.\
Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий - Hyper-V, т.к. Windows-ориентированное рещение с богатым функционалом и высоким быстродействием.\
Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин - KVM, т.к. это наиболее производительное бесплатное opensource с хорошей поддержкой Linux и Windows.\
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры - Windows Hyper-V Server - бесплатная серверная версия гипервизора от Microsoft.\
Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux - KVM (или VirtualBox при небольших масштабах), т.к. бесплатно, просто в использовании, хорошо работает с Linux.

2.
Cценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин:
1) Выключить ВМ
2) Конвертировать диск ВМ в VHD/VHDX, можно использовать vhdtool.exe, vhdxtool.exe, System Center Virtual Machine Manager, Microsoft Virtual Machine Converter, StarWind V2V Image Converter, Disk2VHD или другого.
3) Создать ВМ с полученным диском и нужной конфигурацией в Hyper-V
4) Включить службы интеграции Hyper V\
В ВМ Windows через управление службами внутри ВМ или из гипервизора через PowerShell:\
Get-VMIntegrationService -VMName "DemoVM"\
Enable-VMIntegrationService -VMName "DemoVM" -Name "Guest Service Interface"\
В Linux установить Linux Integration Services. Для ОС, где драйвера LIS уже установлены (нпр. Ubuntu с версии 12.04 и выше), активировать модули ядра hv_vmbus, hv_storvsc, hv_blkvsc, hv_netvsc в /etc/initramfs-tools/modules, затем:\
update-initramfs –u\
shutdown -r now\
Для Linux, где не установлены драйвера LIS, - скачать iso "Linux Integration Services for Hyper-V", подключить к гостю, выполнить скрипт Install.SH.
5) Удалить VMware Tools
6) Удалить неиспользуемые старые устройства

3.
Недостатки гетерогенной среды виртуализации в необходимости управления различными используемыми системами виртуализации и наличия компетенций для работы с каждой из них (конфигурация, в том числе связанные сети и системы хранения данных, оптимизации, учет ограничений по оборудованию и возможностям виртуализации, диагностика, разбор проблем). Количество сложностей варьируется в зависимости от глубины погружения: про базовом, "пользовательском" уровне использования различных систем виртуализации проблем не будет. При необходимости жесткой оптимизации ресурсов, высоких требованиях к доступности и производительности, больших объемах среды количество проблем будет возрастать. При этом внедрение дополнительных систем виртуализации может помочь сэкономить или оптимизировать критичные процессы/добиться максимальной производительности. Так что в целом это допустимо и полезно, однако надо оценить затраты на поддержку дополнительной системы виртуализации. Минимизировать их можно путем ограничения сложности создаваемой дополнительной среды виртуализации (например, по количеству и разнообразию ВМ, количеству требований к производительности, оптимизации, процессам управления), а также использовать уже настроенные процессы управления и элементы инфраструктуры, если они поддерживаются.

### ДЗ 5.1
1. 
Паравиртуализация и виртуализация на основе ОС - совсем разные подходы. В первом случае для реализации виртуализации используется гипервизор, как и в случае полной виртуализации, но гостевые операционные системы модифицированы для оптимальной работы с гипервизором и прямого использования предоставляемого им API. Виртуализация на основе ОС реализуется полностью средствами ОС по выделению и изоляции ресурсов.

2. 
Высоконагруженная база данных, чувствительная к отказу, - физические сервера. Для уменьшения времени работы с оборудованием - диском и сетью.\
Различные Java-приложения - виртуализация уровня ОС. Для масштабируемости и экономии ресурсов.\
Windows системы для использования Бухгалтерским отделом - физические машины, полная виртуализация или паравиртуализация. Для удобства использования, бэкапов и восстановления, разграничения доступа.\
Системы, выполняющие высокопроизводительные расчеты на GPU, - физические сервера или виртуализация уровня ОС. Для уменьшения времени работы с оборудованием - GPU.

3. 
Да, например, VMware Workstation с виртуальной машиной Windows, внутри которой гипервизор (например, VMware Player) с виртуальной машиной Linux. А на базовом хосте еще docker и VirtualBox, а можно и не на базовом, а на виртуалке.
